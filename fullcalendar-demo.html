<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8' />


  <title>
    Hebcal FullCalendar demo
  </title>

  <style>

    html, body {
      margin: 0;
      padding: 0;
      font-family: Arial, Helvetica Neue, Helvetica, sans-serif;
      font-size: 14px;
    }

    #calendar {
      max-width: 900px;
      margin: 40px auto;
    }

  </style>

<link href='https://unpkg.com/@fullcalendar/core@4.4.2/main.min.css' rel='stylesheet' />  
<link href='https://unpkg.com/@fullcalendar/daygrid@4.4.2/main.min.css' rel='stylesheet' />

<script src='https://unpkg.com/@fullcalendar/core@4.4.2/main.min.js'></script>
<script src='https://unpkg.com/@fullcalendar/daygrid@4.4.2/main.min.js'></script>

<!-- hebcal-->
<script src='./node-process-browser.js'></script>
<script src='./node_modules/@hebcal/core/dist/bundle.js'></script>
<script src='./dist/bundle.min.js'></script>
<script>

  document.addEventListener('DOMContentLoaded', function() {
    var calendarEl = document.getElementById('calendar');
    var calendar = new FullCalendar.Calendar(calendarEl, {
      plugins: [ 'dayGrid' ],
      defaultView: 'dayGridMonth',
      header: {
        left: 'prev,next today',
        center: 'title',
      },
      timeZone: 'America/Chicago',
      events: function(info, successCallback, failureCallback) {
        const location = new hebcalCore.Location(41.85003, -87.65005, false, 'America/Chicago', 'Chicago', 'US', 4887398);
        const options = {
          start: info.start,
          end: info.end,
          isHebrewYear: false,
          candlelighting: true,
          location: location,
          sedrot: true,
          omer: true,
        };
        const events = hebcalCore.hebcal.hebrewCalendar(options);
        successCallback(events.map((ev) => hebcalICalendar.eventToFullCalendar(ev, location.tzid)));
      },
    });
    calendar.render();
  });

</script>

</head>
<body>
<h1>Hebcal</h1>
  <div id='calendar'></div>
</body>

</html>
